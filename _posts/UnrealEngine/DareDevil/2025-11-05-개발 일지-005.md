---
title: "[UnrealEngine][DareDevil] ê°œë°œ ì¼ì§€ - 005"
description: 2025ë…„ 11ì›” 5ì¼ ê°œë°œ ì¼ì§€
date: 2025-11-05 00:00:00 +09:00
categories: [GameDev, UnrealEngine, DevNote]
tags:
  [
    UnrealEngine,
    C++,
  ]
---

![](/assets/img/post/Daredevil/Daredevil.png){: width="600" height="400" }

## ğŸ’» ê°œìš”

- Gameplay Abilityë¥¼ ì´ìš©í•œ Sprint ê¸°ëŠ¥ êµ¬í˜„

## ğŸ¤” ì‘ì—… ë‚´ìš©

ë°ì–´ë°ë¸”ì´ë¼ í•˜ë©´ **íŒŒì¿ ë¥´(Parkour)**ê°€ ë¹ ì§ˆ ìˆ˜ ì—†ë‹¤. ì´ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ **ë‹¬ë¦¬ê¸°(Sprint)** ê¸°ëŠ¥ì„ ì¶”ê°€í•´ ë§ˆì£¼í•œ ì¥ì• ë¬¼ì„ íŒŒì¿ ë¥´ë¡œ ë„˜ê³ ì í–ˆë‹¤.

ìš°ì„  Sprint ëŠ¥ë ¥ì€ í”Œë ˆì´ì–´ í°ì´ ìƒì„±ë  ë•Œë¶€í„° ì§€ë‹ˆê³  ìˆì–´ì•¼ í•œë‹¤ê³  ìƒê°í–ˆë‹¤. ê·¸ë ‡ê¸°ì— `BeginPlay`ë‚˜ `PossessedBy` í•¨ìˆ˜ì—ì„œ **ë¯¸ë¦¬ ë¶€ì—¬ í›„ í™œì„±í™”í•˜ëŠ” ë°©ì‹**ìœ¼ë¡œ ê°€ë‹¥ì„ ì¡ì•˜ë‹¤.

ì´ë¥¼ ìœ„í•´ `DataAsset`ì— ë¯¸ë¦¬ íƒœê·¸ì™€ GAë¥¼ ë“±ë¡í•œ í›„ í•´ë‹¹ ì—ì…‹ì„ ë¡œë“œí•˜ì—¬ `AbilitySystemComponent`ì— ë“±ë¡í•˜ë„ë¡ í–ˆë‹¤.

```c++
USTRUCT(BlueprintType)
struct FDaredevilHeroAbilitySet
{
    GENERATED_BODY()

    UPROPERTY(EditDefaultsOnly, BlueprintReadOnly, meta=(Categories="InputTag"))
    FGameplayTag InputTag;
    
    UPROPERTY(EditDefaultsOnly, BlueprintReadOnly)
    TSubclassOf<UDaredevilHeroGameplayAbility> AbilityToGrant;

    bool IsValid() const;
};

// .h
UCLASS()
class DAREDEVIL_API UDataAsset_StartUpDataBase : public UDataAsset
{
	GENERATED_BODY()

public:
	virtual void GiveToAbilitySystemComponent(UDaredevilAbilitySystemComponent* InASCToGive, int ApplyLevel);

private:
	UPROPERTY(EditDefaultsOnly, Category="StartUpData", meta=(TitleProperty="InputTag"))
	TArray<FDaredevilHeroAbilitySet> HeroStartUpAbilitySets;
};

// .cpp
void UDataAsset_HeroStartUpData::GiveToAbilitySystemComponent(UDaredevilAbilitySystemComponent* InASCToGive, int ApplyLevel)
{
	for (const FDaredevilHeroAbilitySet& AbilitySet : HeroStartUpAbilitySets)
	{
		if (AbilitySet.IsValid() == false)
			continue;

		FGameplayAbilitySpec AbilitySpec(AbilitySet.AbilityToGrant);
		AbilitySpec.SourceObject = InASCToGive->GetAvatarActor();
		AbilitySpec.Level = ApplyLevel;
		AbilitySpec.DynamicAbilityTags.AddTag(AbilitySet.InputTag);
		
		InASCToGive->GiveAbility(AbilitySpec);
	}
}
```

![](/assets/img/post/Daredevil/Sprint/ga-sprint-added.png){: width="600" height="400" }
_ì¶”ê°€ëœ GA_Hero_Sprint_

ìƒˆë¡œ ë§Œë“  `DataAsset`ì„ ìƒì„±í•œ ë‹¤ìŒ íƒœê·¸ì™€ ì–´ë¹Œë¦¬í‹°ë¥¼ ë“±ë¡í•´ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í–ˆë‹¤.

ë‹¤ìŒìœ¼ë¡œ ìƒíƒœì— ë”°ë¥¸ ì´ë™ ì†ë„ë¥¼ ì„¤ì •í•´ì•¼í–ˆë‹¤. ë¬¼ë¡  GA ë‚´ë¶€ì—ì„œ í•˜ë“œì½”ë”©ìœ¼ë¡œ `CharacterMovement`ë¡œ ì ‘ê·¼í•´ `MaxWalkSpeed`ë¥¼ ìˆ˜ì •í•  ìˆœ ìˆì§€ë§Œ, ê·¸ë ‡ê²Œ ë˜ë©´ GASë¥¼ ì“°ëŠ” ì˜ë¯¸ê°€ ì—†ë‹¤ ìƒê°í–ˆë‹¤.

GASì—ì„œ ê¶Œì¥í•˜ëŠ” ìŠ¤íƒ¯ ê´€ë¦¬ ë°©ë²•ì€ `Attribute`ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ë¯¸ë¦¬ ì²´ë ¥ì´ë‚˜ ìŠ¤íƒœë¯¸ë‚˜ ë“±ì˜ ë©¤ë²„ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•œ ë’¤ `GameplayEffect`ì—ì„œ ê°’ì„ ì—°ì‚°í•˜ì—¬ ìŠ¤íƒ¯ì„ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ì´ê²ƒ ì—­ì‹œ ìŠ¤ì¼€ì¼ í”Œë¡¯ ê°’ì„ ì§€ì •í•´ ê°’ì„ ë”í•˜ê±°ë‚˜(add) ë®ì–´ì”Œìš°ëŠ”(override) ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸°ì— ë³„ë°˜ ë‹¤ë¥´ì§€ ì•Šë‹¤ê³  ëŠê¼ˆë‹¤.

ê·¸ëŸ¬ëŠ” ì™€ì¤‘ì— GEì˜ ëª¨ë””íŒŒì´ì–´ íƒ€ì… ì¤‘ `Set By Caller`ë¥¼ ì•Œê²Œ ëë‹¤. ì´ëŠ” GEê°€ ì—°ì‚°í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ **ì´ë¯¸ ì—°ì‚°ëœ ê°’ì„ ì „ë‹¬ë°›ì•„ ì„¸íŒ…**í•˜ëŠ” ê²ƒì´ê¸°ì— **ë°ì´í„° í…Œì´ë¸”**ì„ í™œìš©í•  ìˆ˜ ìˆê² ë‹¤ ìƒê°í–ˆë‹¤.

![](/assets/img/post/Daredevil/Sprint/ge-modifier-set-by-caller.png){: width="600" height="400" }

ê³„íšì€ ë‹¤ìŒê³¼ ê°™ì•˜ë‹¤. ìŠ¤íƒ¯ ì •ë³´ë¥¼ ë‹´ì€ ë°ì´í„° í…Œì´ë¸”ì„ ë§Œë“  ë’¤ **ê¸°ë³¸ ì´ë™ ì†ë„**ì™€ **ë‹¬ë¦¬ê¸° ì†ë„** ì»¬ëŸ¼ì„ ì¶”ê°€í•œë‹¤. ê·¸ í›„ GA_Hero_Sprint í™œì„±í™” ì‹œ ë‚´ë¶€ì—ì„œ í…Œì´ë¸”ì„ ì°¸ì¡°í•˜ì—¬ ë‹¬ë¦¬ê¸° ì†ë„ ê°’ë§Œ ê°€ì ¸ì˜¨ ë’¤ GEì— ì ìš©ì‹œí‚¤ê¸°ë¡œ í–ˆë‹¤.

![](/assets/img/post/Daredevil/Sprint/ga-sprint-activate-ge.png){: width="600" height="400" }

> íƒœê·¸ë¥¼ í†µí•´ Attributeì˜ ê°’ì„ ì„¸íŒ…í•˜ê¸° ë•Œë¬¸ì— ê°™ì€ íƒœê·¸ë¡œ ì„¸íŒ…í•´ì¤˜ì•¼ í•œë‹¤.
{: .prompt-info }

ê·¸ ê²°ê³¼ Sprint ê¸°ëŠ¥ í™œì„±í™” ì‹œ Attributeê°€ ë³€í•˜ëŠ” ê±¸ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.

![](/assets/img/post/Daredevil/Sprint/apply-movement-speed.png){: width="400" height="200" }
_GE ì ìš©ìœ¼ë¡œ ë³€ê²½ëœ ê°’ê³¼ ì›ë³¸ ê°’_

ë§ˆì§€ë§‰ìœ¼ë¡œ ì‹¤ì œ ì´ë™ ì†ë„ë¥¼ Attribute ê°’ìœ¼ë¡œ ì„¸íŒ…í–ˆë‹¤. ë‹¨ìˆœíˆ ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ í†µí•´ ë³€ê²½ëœ ê°’ì„ MovementComponentì— ì ìš©ì‹œì¼œì£¼ë©´ ëë‹¤.

```c++
// ë¸ë¦¬ê²Œì´íŠ¸ ë“±ë¡
DaredevilAbilitySystemComponent->GetGameplayAttributeValueChangeDelegate(DaredevilAttributeSet->GetMovementSpeedAttribute())
.AddUObject(this, &ADaredevilHeroCharacter::OnMovementSpeedChanged);

// ì½œë°± í•¨ìˆ˜
void ADaredevilHeroCharacter::OnMovementSpeedChanged(const FOnAttributeChangeData& Data)
{
	GetCharacterMovement()->MaxWalkSpeed = Data.NewValue;
}
```

ìµœì¢… ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤ğŸ˜Š

<!-- <div style="text-align: center;">
  <iframe width="640" height="360" src="https://www.youtube.com/embed/FqTabwBFtxM" 
  title="YouTube video player" frameborder="0" 
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
  allowfullscreen>
  </iframe>
</div> -->

## ğŸ’¡ ìƒˆë¡­ê²Œ ë°°ìš´ ì 

- í”Œë ˆì´ì–´ ìŠ¤í° ì‹œ GA ë“±ë¡
- GEë¥¼ ì´ìš©í•œ Attribute ë³€ê²½
- Attributeì—ì„œì˜ ë¸ë¦¬ê²Œì´íŠ¸ ë“±ë¡ ë°©ë²•

## ğŸš€ ë‹¤ìŒ ëª©í‘œ

- GameplayAbilityë¥¼ ì´ìš©í•œ íŒŒì¿ ë¥´ êµ¬í˜„