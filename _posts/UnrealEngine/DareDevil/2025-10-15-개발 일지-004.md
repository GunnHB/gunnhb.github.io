---
title: "[UnrealEngine][DareDevil] 개발 일지 - 004"
description: 2025년 10월 15일 개발 일지
date: 2025-10-15 00:00:00 +09:00
categories: [GameDev, UnrealEngine, DevNote]
tags:
  [
    UnrealEngine,
    C++,
  ]
---

![](/assets/img/post/Daredevil/Daredevil.png){: width="600" height="400" }

## 💻 개요

- 블렌더를 이용한 메시 크기 조절
- 애니메이션 재생 시 메시가 뒤틀리는 현상 수정

## 🤔 작업 내용

플레이어 메시의 기본 크기가 너무 커서 이래저래 불편한 점이 많았다. 그래서 임포트 시에 스케일 값을 줄인 다음 임포트를 해봤다.

![](/assets/img/post/Daredevil/MeshScale/adjust-import-scale.png){: width="300" height="150" }
_스케일을 확 줄였다_

이후 전에 하던 것처럼 IK릭을 생성하고 리타기터를 이용해 애니메이션을 재임포트하려 했다. 그런데 문제가 발생했다.

![](/assets/img/post/Daredevil/MeshScale/adjust-player-mesh-scale-on-import.png){: width="600" height="400" }
_타겟 메시가 바닥을 뚫고 들어간다_

IK릭을 생성하고 체인을 세팅하는 데에는 아무 문제 없었지만 리타기터를 세팅하자 위와 같이 타깃 메시가 **바닥을 파고 들었다.** 원인을 찾아보니, 해당 옵션은 원본의 실제 스케일이 아닌 **렌더링할 메시의 스케일을 줄이는 것**이었다. 결국 이를 해결하려면 원본의 크기를 줄인 후 임포트를 해야하는 것이었다.

그렇기에 블렌더에서 FBX를 가져와 크기를 줄이는 작업을 진행했다.

![](/assets/img/post/Daredevil/MeshScale/origin-scale-in-blender.png){: width="300" height="150" }
_블렌더에 불러온 원본 메시. 발 밑 박스와 비교하면 사이즈가 엄청 크다_

<div style="display: flex; justify-content: center; gap: 20px; margin-bottom: 20px;">
  <figure style="margin: 0; border: none; background: transparent;">
    <img src="/assets/img/post/Daredevil/MeshScale/adjust-scale-before.png" alt="adjust-scale-before" style="width: 250px; height: 350px">
    
    <figcaption style="text-align: center; color: #6d6d6dff; font-size: 0.8em;">
      이 정도의 스케일을
    </figcaption>
  </figure>
  
  <figure style="margin: 0; border: none; background: transparent;">
    <img src="/assets/img/post/Daredevil/MeshScale/adjust-scale-after.png" alt="adjust-scale-after" style="width: 250px; height: 350px">
    
    <figcaption style="text-align: center; color: #6d6d6dff; font-size: 0.8em;">
      이렇게 수정했다
    </figcaption>
  </figure>
</div>

처음에는 단순히 스케일만 줄이면 다 해결되는 줄 알았다. 하지만 결과는 똑같았다😑

알고보니 위와 같이 스케일을 수정하는 것 역시 보이는 것만 수정하는 꼴이었다. 이를 해결하기 위해 `Ctrl + A` - `Scale`을 선택해 **수정된 스케일의 비율을 1로 세팅**했다.

그 후 이를 익스포트한 다음 언리얼에서 임포트했다. 그런데 이번엔 **머티리얼**이 문제였다.

![](/assets/img/post/Daredevil/MeshScale/fbx-without-texutre.png){: width="600" height="400" }
_머리티얼에 텍스쳐가 적용되지 않는 이슈_

이에 대한 해결은 그리 어렵지 않았다. 익스포트 시 `Path Mode`를 `Copy`로 설정 후 텍스쳐 포함 아이콘을 활성화하면 됐다.

![](/assets/img/post/Daredevil/MeshScale/set-path-mode-on-export-fbx.png){: width="400" height="200" }

이제 정말 다 끝난 줄 알았다. 하지만...

![](/assets/img/post/Daredevil/MeshScale/fbx-with-leaf-bone.png){: width="400" height="200" }

임포트한 스켈레탈 메시의 말단들에 웬 `end` 본이 추가됐다. 이것 역시 익스포트 시 설정할 수 있는 옵션이었는데, 다음과 같은 옵션을 꺼야한다...

![](/assets/img/post/Daredevil/MeshScale/option-leaf-node.png){: width="400" height="200" }

위와 같은 수정을 거친 뒤 드디어 원하는 사이즈의 스켈레탈 메시를 얻을 수 있었다! IK 릭과 리타기터 세팅은 몇 번의 반복이 있었기에 일사천리로 할 수 있었다. 애니메이션 재임포트 하기 전 테스트 재생을 해봤다. 그 결과...

![](/assets/img/post/Daredevil/MeshScale/upperbody-rotate-not-enough.png){: width="600" height="400" }

어째서인지 상체가 충분히 회전하지 않았다😨 이에 대해 찾아보니 **척추(spine) 본 구조의 차이**로 인한 문제였다. 이를 해결하기 위해 `Full Body IK`와 `IK Goal`을 세팅했다. 이는 체인의 끝을 소스와 일치시키기 위함인데, 이렇게 되면 이를 맞추기 위해 체인에 속한 **다른 본들의 위치와 회전 값을 역산**하게 된다. 

![](/assets/img/post/Daredevil/MeshScale/spine-ik-goal.png){: width="600" height="400" }
_문제가 되는 spine에 ik goal을 추가했다_

그런 다음 리타기터에서 `Spine`의 회전 알파 값을 적당하게 조정했더니 **더 이상 문제가 발생하지 않았다!**😊

![](/assets/img/post/Daredevil/MeshScale/upperbody-mesh-problem.png){: width="600" height="400" }
> 참고로 회전 알파 값을 조정하지 않으면 위와 같이 메시가 꼬이 듯 나온다😂
{: .prompt-info }

모든 이슈가 해치웠나 싶으면 하나 씩 나오다보니 중간 중간 포기할까 싶었지만, 그렇지 않았기에 해결 가능했던 것 같다. 스케일 조정 이슈가 이렇게 큰 고비가 될지 몰랐지만... 역시 끝내고 나면 홀가분해진다🤣

## 💡 새롭게 배운 점

- 언리얼에서의 임포트 시 스케일 세팅의 문제점
- 블렌더에서의 스케일 세팅
- 블렌더에서 익스포트 시 반드시 확인해야하는 옵션들
- IK Goal의 필요성 

## 🚀 다음 목표

- Gameplay Ability를 이용한 Sprint 기능 구현